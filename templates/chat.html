<html>
<head><title>WebSockets</title></head>
<body style="background: black; text-align: center">
<p><label style="color: aliceblue">Nick: <input id="nick" placeholder="Your name" size="5"></label>></p>
<p><input id="text" placeholder="text message"><button id="send">Send</button></p>
<p><textarea id="output" rows="10" cols="50" readonly></textarea></p>
</body>

<script lang="javascript">
    let ws = new WebSocket('ws://149.154.67.79:5678')

    let nick = document.getElementById('nick')
    let btn = document.getElementById('send')
    let text = document.getElementById('text')
    let out = document.getElementById('output')

    btn.onclick = function () {
        ws.send(nick.value + ': ' + text.value)
        text.value = ''
    }

    window.addEventListener('keypress', function (event) {
        if (event.key === 'Enter') {
            btn.click()
        }
    })

    ws.onmessage = function (msg) {
        out.append(msg.data + '\n')
        out.scrollTop = out.scrollHeight
    }
</script>

</html>
